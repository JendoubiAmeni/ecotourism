{% extends 'baseAdmin.html.twig' %}

{% block title %}liste des utilisateurs {% endblock %}

{% block body %}

<style>

.border-eco {
    border: 2px solid #77B82A; 
}
.border-eco:focus {
    border-color: #A7C94D; 
}
.btn-custom {
    background-color: #77B82A; 
    color: #fff; 
    border: 2px solid #77B82A; 
}

.btn-custom:hover {
    background-color: #6C9C22; 
    border: 2px solid #6C9C22; 
    color: #fff; 
}
 .center-container {
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        margin: auto !important;
    }
      .no-users-message {
        font-size: 24px;  /* Ajustez la taille de police selon vos besoins */
        animation: blink 1s infinite;  /* Animation de battement des cils */
    }

    @keyframes blink {
        50% {
            opacity: 0.5;
        }
    }
</style>
            <div class="content-page">
                <div class="content">
                    
                    <!-- Start Content-->
                    <div class="container-fluid">
                        
                        <!-- start page title -->
                        <div class="row">
                            <div class="col-12">
                                <div class="page-title-box">
                                    <div class="page-title-right">
                                        <ol class="breadcrumb m-0">
                                            <li class="breadcrumb-item"><a href="javascript: void(0);">Dashboard</a></li>
                                           
                                            <li class="breadcrumb-item active">Liste des utilisateurs</li>
                                        </ol>
                                    </div>
                                    <h4 class="page-title">Liste</h4>
                                </div>
                            </div>
                        </div>     
                        <!-- end page title --> 

                        <div class="row">
                            <div class="col-sm-4">
                                <a href="#custom-modal" class="btn btn-primary waves-effect waves-light mb-3" data-animation="fadein" data-plugin="custommodal"
                                   data-overlaySpeed="200" data-overlayColor="#36404a"><i class="md md-add"></i> Ajouter un admin</a>
                            </div><!-- end col -->
                            <div class="col-sm-8">
                                <div class="text-right">
                                    <ul class="pagination pagination-split mt-0 float-right">
                                        <li class="page-item">
                                            <a class="page-link" href="#" aria-label="Previous">
                                                <span aria-hidden="true">¬´</span>
                                                <span class="sr-only">Previous</span>
                                            </a>
                                        </li>
                                        <li class="page-item"><a class="page-link" href="#">1</a></li>
                                        <li class="page-item active"><a class="page-link" href="#">2</a></li>
                                        <li class="page-item"><a class="page-link" href="#">3</a></li>
                                        <li class="page-item"><a class="page-link" href="#">4</a></li>
                                        <li class="page-item"><a class="page-link" href="#">5</a></li>
                                        <li class="page-item">
                                            <a class="page-link" href="#" aria-label="Next">
                                                <span aria-hidden="true">¬ª</span>
                                                <span class="sr-only">Next</span>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- end row -->

                  <div class="row">
                    <div class="col-md-8 mx-auto rounded p-4 b-search">
                        <form method="post" class="p-3" action="{{ path('search_users') }}">
                            <div class="input-group">
                                <input type="text" name="search" id="search" class="form-control form-control-lg rounded-0 border-eco" placeholder="Rechercher..." autocomplete="off" required>
                                <div class="input-group-append">
                                    <input type="submit" name="submit" value="Search" class="btn btn-custom btn-lg rounded-0">
                                </div>
                            </div>
                        </form>
                    </div>
                   
                </div>


                        <div class="row">
                             {% if users is defined and users | length > 0 %}
                             {% for row in users %}
                            <div class="col-lg-4">
                                <div class="card-box">
                                    <div class="member-card-alt">
                                        <div class="avatar-xxl member-thumb mb-2 float-left">
                                            <img src="{{ asset('assets/uploads/profils/mini/300x300-' ~ row.images[0].nom ) }}" class="img-thumbnail" alt="profile-image- {{row.nom}}">
                                            <i class="mdi mdi-star-circle member-star text-success" title="verified user"></i>
                                             <p class="text-muted font-13 mt-40"></p><br>

                                            <a href="{{ path('app_edit_block', {'id': row.id}) }}" class="btn btn-secondary btn-sm mt-2 waves-effect waves-light">
                                                <i class="fas fa-block"></i> voir ses voyages
                                            </a>
                                           
                                        </div>

                                        <div class="member-card-alt-info">
                                           <h4 class="mb-1 mt-0">{{ row.nom ~ ' ' ~ row.prenom }}</h4>

                                          <p class="text-muted">@ExplorateurEco <span> | 7 voyage(s)</span> <span> <a href="#" class="text-custom">ecotourism.com</a> </span></p>
                                           <p class="text-muted font-13">
                                                üåø Explorateur √âco pour un voyage durable. üçÉ Passionn√© par la nature, je laisse des empreintes positives. Ensemble, impactons le monde tout en profitant des merveilles du voyage √©co-tourism. üåç‚úàÔ∏è #VoyageEco #NatureLover
                                            </p>




                                            <ul class="social-links list-inline mt-3">
                                                <li class="list-inline-item">
                                                    <a title="" data-placement="top" data-toggle="tooltip" class="tooltips" href="#" data-original-title="Facebook"><i class="fab fa-facebook-f"></i></a>
                                                </li>
                                                <li class="list-inline-item">
                                                    <a title="" data-placement="top" data-toggle="tooltip" class="tooltips" href="#" data-original-title="Twitter"><i class="fab fa-twitter"></i></a>
                                                </li>
                                                <li class="list-inline-item">
                                                    <a title="" data-placement="top" data-toggle="tooltip" class="tooltips" href="#" data-original-title="Skype"><i class="fab fa-skype"></i></a>
                                                </li>
                                            </ul>

                                           
                                           
                                            <a href="{{ path('app_edit_block', {'id': row.id}) }}" class="btn btn-primary btn-sm mt-2 waves-effect waves-light">
                                                <i class="fas fa-block"></i> bloquer
                                            </a>
                                           <a href="#" class="btn btn-link text-danger btn-sm mt-2 waves-effect waves-light" onclick="confirmDelete('{{ path('app_delete_user', {'id': row.id}) }}')">
                                                <i class="fas fa-trash-alt"></i> delete
                                            </a>

                                        </div>

                                    </div>

                                </div>

                            </div> 
                            {% endfor %}
                            {% else %}
                            <div class="center-container">
                            <div class="no-users-message">
                                üòï Aucun utilisateur trouv√©: " {{ recherche }} "
                            </div>
                        </div>

                            {% endif %}
                        </div>
                     
                        
                    </div> <!-- end container-fluid -->

                </div> <!-- end content -->

                

              

            </div>
     
          {% endblock %}